{"name":"Welcome","description":"Upon a chat user's first words of the stream, display their Twitch avatar and name in a welcome box on stream.","version":3.3,"author":"arblane","components":{"commands":[{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"d6e6ae9b-4ea1-4e60-8ad9-473baaa31540","list":[{"id":"a62aa080-0252-11ef-b06f-53601a19b3d6","type":"firebot:conditional-effects","active":false,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:command-args-count","comparisonType":"is","value":null,"rightSideValue":3}]},"effectData":{"list":[{"id":"b8dc64c0-0252-11ef-b06f-53601a19b3d6","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Alias correct number of arguments"}],"id":"a62dd4d0-0252-11ef-b06f-53601a19b3d6"},"label":"correct number of arguments provided"}],"otherwiseEffectData":{"list":[{"id":"042b6a70-0253-11ef-b06f-53601a19b3d6","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Alias invalid number of arguments"}],"id":"a62cc360-0252-11ef-b06f-53601a19b3d6"},"percentWeight":null},{"id":"e6016070-cda2-11ee-b38f-b5b50393e92b","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"action":"$arg[1]","user":"$arg[2]","alias":"$arg[3,last]"},"effectList":{"list":[],"id":"e6033530-cda2-11ee-b38f-b5b50393e92b"},"presetListId":"29bc3510-588c-11ee-a7b2-bb9033e94bad","percentWeight":null}]},"restrictionData":{"restrictions":[{"id":"0bd98010-589c-11ee-a7b2-bb9033e94bad","type":"firebot:permissions","mode":"roles","roleIds":["broadcaster","mod"],"ranks":[]}],"mode":"any","sendFailMessage":true,"failMessage":"Sorry, you cannot use this command because: {reason}","sendAsReply":false},"aliases":[],"sortTags":["11b36fbe-0efc-4d9b-a5ec-4fd38e63782f"],"treatQuotedTextAsSingleArg":false,"trigger":"!alias","description":"Set/Remove alias of chat user","ignoreBot":true,"hidden":true,"subCommands":[],"id":"7130a560-589c-11ee-a7b2-bb9033e94bad","createdBy":"arblane","createdAt":"2023-09-21T12:32:23-04:00","count":148,"type":"custom","lastEditBy":"arblane","lastEditAt":"2025-09-21T12:37:48.908-04:00","allowTriggerBySharedChat":"inherit"}],"counters":[],"currencies":[],"effectQueues":[],"events":[],"eventGroups":[],"hotkeys":[],"presetEffectLists":[{"name":"Welcome","effects":{"list":[{"id":"20cfc06f-6f42-4d13-bbc2-3126690c1c53","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:username","comparisonType":"is","value":null,"rightSideValue":"$userIsBanned[$#user]"}]},"effectData":{"list":[{"id":"8bde6544-88bb-4614-932a-0f3ea9f48d10","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Banned user, skipping Welcome - $#user | $#chatMessage","percentWeight":null}],"id":"5ddcb44b-df81-4154-9630-4c07ab0a2b42"},"label":"user is banned, skip welcome"}],"otherwiseEffectData":{"list":[{"id":"8eb4b115-92a9-4806-a8c4-d728a5b16427","type":"firebot:customvariable","active":true,"ttl":0,"name":"welcomeResourcePath","variableData":"E:\\Streaming\\Assets\\Overlays\\welcome","effectLabel":null,"percentWeight":null},{"id":"35a5699b-00dc-4d9e-a865-6a087e7726f2","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$fileExists[$$welcomeResourcePath\\\\welcomes.html]","rightSideValue":"$false"}]},"effectData":{"list":[{"id":"03392c2b-b448-44c7-92ed-37fdd72c9688","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Extracting welcomes.html","percentWeight":null},{"id":"db72bb36-d434-4520-bb8e-34295a7b200c","type":"firebot:filewriter","active":true,"writeMode":"replace","deleteLineMode":"lines","replaceLineMode":"lineNumbers","filepath":"$$welcomeResourcePath\\\\welcomes.html","text":"<div class=\"welcomesoverlay\">\n\t<style>\n\t\t:root {\n\t\t\t--hue: 50;\n\t\t\t--saturation: 50%;\n\t\t\t--base-color: $customVariable[userColor];\n\t\t\t--light-color: hsl(var(--hue), var(--saturation), 90%);\n\t\t\t--dark-color: hsl(var(--hue), var(--saturation), 10%);\n\t\t}\n\n\t\t.roundback {\n\t\t\tborder-radius: 25px;\n\t\t\tfont-family: Arial, sans-serif;\n\t\t\ttext-align: center;\n\t\t\tpadding: 10px;\n\t\t\twidth: 300px;\n\t\t\theight: 400px;\n\t\t\tposition: fixed;\n\t\t\tmargin: 0 auto;\n\t\t\tright: 20px;\n\t\t\ttop: 100px;\n\t\t}\n\n\t\t.gradient-background {\n\t\t\tbackground: linear-gradient(300deg, var(--dark-color), var(--base-color), var(--light-color));\n\t\t\tbackground-size: 180% 180%;\n\t\t\tanimation: gradient-animation 18s ease infinite;\n\t\t}\n\n\t\t@keyframes gradient-animation {\n\t\t\t0% {\n\t\t\t\tbackground-position: 0% 50%;\n\t\t\t}\n\n\t\t\t50% {\n\t\t\t\tbackground-position: 100% 50%;\n\t\t\t}\n\n\t\t\t100% {\n\t\t\t\tbackground-position: 0% 50%;\n\t\t\t}\n\t\t}\n\n\t\t.image-container,\n\t\t.text-container {\n\t\t\tdisplay: inline-block;\n\t\t\tvertical-align: middle;\n\t\t}\n\n\t\t.image-container img {\n\t\t\twidth: 300px;\n\t\t\theight: 300px;\n\t\t\tborder-radius: 50%;\n\t\t}\n\n\t\t.container {\n\t\t\tcolor: white;\n\t\t\ttext-transform: uppercase;\n\t\t\tline-height: 10px;\n\t\t}\n\t</style>\n\t<div class=\"container\">\n\t\t<div class=\"roundback gradient-background\">\n\t\t\t<div class=\"text-container\">\n\t\t\t\t<h1>Welcome</h1>\n\t\t\t\t<h2>$#user</h2>\n\t\t\t</div>\n\t\t\t<div class=\"image-container\">\n\t\t\t\t<img src=\"$userAvatarUrl[$#user]\" alt=\"profile image\">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>","percentWeight":null,"effectLabel":"write welcomes.html"}],"id":"d6defaad-705d-4e55-8d03-07bf74d38c48"},"label":"If file is not present, extract it."}],"otherwiseEffectData":{"list":[],"id":"b4ad6906-e085-4642-8874-524dc03a439c"},"percentWeight":null,"effectLabel":"Extract file, if missing"},{"id":"907eafa8-534f-4310-8162-c2f51e98c577","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"user":"$#user"},"effectList":{"list":[],"id":"f25c1970-5889-11ee-a7b2-bb9033e94bad"},"presetListId":"a4e79880-5885-11ee-a7b2-bb9033e94bad","effectLabel":"grab their alias","percentWeight":null},{"id":"66b7a41a-6084-4932-9e34-11ea375f1d06","type":"firebot:chat","active":true,"chatter":"Streamer","message":"Welcome in $#user","percentWeight":null},{"id":"3c090d4d-3862-4350-8b62-2f1d4b6b8c7a","type":"firebot:customvariable","active":true,"ttl":30,"variableData":"$chatUserColor[$#user]","name":"userColor","effectLabel":"userColor","percentWeight":null},{"id":"52fe403f-92e3-4c45-bcde-d2d1864ae648","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"voice":"scottish_english_male","tts":"Welcome in $$randomAlias !","actor":"glados"},"effectList":{"list":[],"id":"149693eb-1a81-11ee-8f05-c7c6901b16f6"},"presetListId":"0049f8d0-fb1b-11ed-8d27-912549bd6fa1","effectLabel":"TTS","percentWeight":null},{"id":"94993d89-ed60-4fb6-a12b-eb6080c1f2b6","type":"firebot:html","active":true,"enterAnimation":"fadeInRight","exitAnimation":"fadeOutRight","inbetweenAnimation":"pulse","html":"$evalVars[$readFile[$$welcomeResourcePath\\welcomes.html]]","length":"6","inbetweenRepeat":3,"effectLabel":"display a panel on screen","percentWeight":null},{"id":"f3ba7c6e-4e65-4002-ab16-31497a97fad4","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{},"effectList":{"list":[],"id":"149693e9-1a81-11ee-8f05-c7c6901b16f6"},"presetListId":"c7a1b130-e90e-11ed-9323-65b2ddf9a0e8","effectLabel":"[SFX] Knocking","percentWeight":null},{"id":"645e982e-0527-4d7d-b20d-89a34d19ff4a","type":"firebot:currency","active":true,"roleIds":[],"currency":"6cdcf740-ce66-11ed-a85b-135af14bc7e9","action":"Add","target":"individual","chatter":"Streamer","amount":"$randomNumber[1, 49]","userTarget":"$username","sendChat":false,"percentWeight":null}],"id":"a21926e0-6210-41ad-ac93-374fa735bc7a"},"percentWeight":null}],"id":"149693ec-1a81-11ee-8f05-c7c6901b16f6"},"args":[{"name":"user"}],"sortTags":["c7299530-6b33-4cfe-9571-984695db5292","77ce5b52-762f-4af7-922f-90b797f7be4b"],"id":"149693e0-1a81-11ee-bccf-ab1038f73fb5"},{"name":"[Utility] Get Alias","effects":{"list":[{"id":"c5e5edd0-0018-11ef-9b6e-c9ce54b8e033","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$userMetadata[$#user, alias]"}]},"effectData":{"list":[{"id":"da215f50-0018-11ef-9b6e-c9ce54b8e033","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Attempting to grab aliases","effectLabel":"Attempting...","percentWeight":null},{"id":"1caf07f0-0019-11ef-9b6e-c9ce54b8e033","type":"firebot:customvariable","active":true,"ttl":15,"name":"aliases","variableData":"$userMetadata[$#user, alias]","effectLabel":"aliases","percentWeight":null},{"id":"aeedffa0-0653-11ef-a555-77b681237a62","type":"firebot:customvariable","active":true,"ttl":15,"name":"randomAlias","variableData":"$objectWalkPath[$arrayRandomItem[$$aliases], alias]","effectLabel":"randomAlias v2","percentWeight":null},{"id":"e13bf110-0635-11ef-9616-51cb4b61ef98","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Random Alias >> $$randomAlias","effectLabel":"Log Random Alias","percentWeight":null}],"id":"c5e885e0-0018-11ef-9b6e-c9ce54b8e033"},"label":"Grab the first alias set"}],"otherwiseEffectData":{"list":[{"id":"e7aceea0-0018-11ef-9b6e-c9ce54b8e033","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] No aliases set","effectLabel":"No alias set","percentWeight":null},{"id":"0ab19f90-0019-11ef-9b6e-c9ce54b8e033","type":"firebot:customvariable","active":true,"ttl":15,"name":"randomAlias","variableData":"$#user","effectLabel":"randomAlias","percentWeight":null}],"id":"c5e77470-0018-11ef-9b6e-c9ce54b8e033"},"otherwiseLabel":"No alias use username","percentWeight":null}],"id":"a4e7bf90-5885-11ee-a7b2-bb9033e94bad"},"args":[{"name":"user"}],"sortTags":["b5b82cd7-f6c2-42ce-ab7e-b3b623282615"],"id":"a4e79880-5885-11ee-a7b2-bb9033e94bad"},{"name":"[Utility] Set Alias","effects":{"list":[{"id":"fe8bc460-01d1-11ef-9592-91b3bebd4ecc","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Alias: $#action, $#user, $#alias","percentWeight":null},{"id":"b481ad60-00b6-11ef-8194-df726632e71a","type":"firebot:conditional-effects","active":false,"ifs":[{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$#action"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$#user"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$#alias"}]},"effectData":{"list":[{"id":"e163d9c0-00b6-11ef-8194-df726632e71a","type":"firebot:chat","active":true,"chatter":"Bot","message":"Missing an argument, check your message and please try again. Format should be Action User Alias","sendAsReply":true}],"id":"b484baa0-00b6-11ef-8194-df726632e71a"}}],"otherwiseEffectData":{"list":[],"id":"b4838220-00b6-11ef-8194-df726632e71a"},"percentWeight":null},{"id":"243f2630-588f-11ee-a7b2-bb9033e94bad","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$userExists[$#user]","rightSideValue":"true"}]},"effectData":{"list":[{"id":"1139a300-5897-11ee-a7b2-bb9033e94bad","type":"firebot:customvariable","active":true,"ttl":15,"variableData":"$lowercase[$replace[$#alias, \"[^a-zA-Z\\d]\", \"\", true]]","name":"scrubbedAlias","effectLabel":"scrubbedAlias","percentWeight":null},{"id":"e1ddc710-cda5-11ee-b38f-b5b50393e92b","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$userMetadata[$#user, alias]"}]},"effectData":{"list":[{"id":"05b29940-cda6-11ee-b38f-b5b50393e92b","type":"firebot:customvariable","active":true,"ttl":15,"name":"aliases","variableData":"$userMetadata[$#user, alias]","effectLabel":"get user aliases from metadata"}],"id":"e1e08630-cda5-11ee-b38f-b5b50393e92b"},"label":"there are aliases, grab them"}],"otherwiseEffectData":{"list":[],"id":"e1df74c0-cda5-11ee-b38f-b5b50393e92b"},"otherwiseLabel":"","effectLabel":"check for existing aliases","percentWeight":null},{"id":"9ccd8c10-5892-11ee-a7b2-bb9033e94bad","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"add"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"new"}]},"effectData":{"list":[{"id":"04baeca0-5893-11ee-a7b2-bb9033e94bad","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$aliases"}]},"effectData":{"list":[{"id":"6187d400-589f-11ee-a7b2-bb9033e94bad","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] add, no alias array set","effectLabel":"add, no alias array set"},{"id":"60cdf480-588c-11ee-a7b2-bb9033e94bad","type":"firebot:set-user-metadata","active":true,"username":"$#user","key":"alias","data":"[{\"id\":\"$$scrubbedAlias\", \"alias\":\"$#alias\"}]"}],"id":"3a887070-588c-11ee-a7b2-bb9033e94bad"},"label":"no aliases, create"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"contains","value":null,"leftSideValue":"$$aliases","rightSideValue":"$$scrubbedAlias"}]},"effectData":{"list":[{"id":"6c65f690-589f-11ee-a7b2-bb9033e94bad","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] add, alias exists"},{"id":"3cd35ef0-5899-11ee-a7b2-bb9033e94bad","type":"firebot:chat","active":true,"chatter":"Bot","message":"Sorry, you can't add another alias that already exists!","sendAsReply":true}],"id":"2ae586f0-5899-11ee-a7b2-bb9033e94bad"},"label":"exists already, prevent duplicate"}],"otherwiseEffectData":{"list":[{"id":"7be93730-589f-11ee-a7b2-bb9033e94bad","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] add, alias doesn't exist","effectLabel":"add, alias doesn't exist"},{"id":"a9d88870-588c-11ee-a7b2-bb9033e94bad","type":"firebot:customvariable","active":false,"ttl":15,"name":"aliases","variableData":"$userMetadata[$#user, alias]","effectLabel":"aliases"},{"id":"12287b60-588d-11ee-a7b2-bb9033e94bad","type":"firebot:customvariable","active":true,"ttl":15,"name":"tAlias","variableData":"{\"id\":\"$$scrubbedAlias\", \"alias\":\"$#alias\"}","effectLabel":"tAlias"},{"id":"d6e76a20-588c-11ee-a7b2-bb9033e94bad","type":"firebot:customvariable","active":true,"ttl":15,"variableData":"$arrayAdd[$$aliases, $$tAlias]","name":"tAliases","effectLabel":"tAliases"},{"id":"2a73f6e0-588d-11ee-a7b2-bb9033e94bad","type":"firebot:set-user-metadata","active":true,"username":"$#user","key":"alias","data":"$$tAliases"}],"id":"3a8674a0-588c-11ee-a7b2-bb9033e94bad"},"otherwiseLabel":"add to aliases"}],"id":"9cd0c060-5892-11ee-a7b2-bb9033e94bad"},"label":"add/new"},{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"edit"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"update"}]},"effectData":{"list":[{"id":"d6d45980-589b-11ee-a7b2-bb9033e94bad","type":"firebot:chat","active":true,"chatter":"Bot","message":"$capitalize[$#action] alias not yet implemented.","sendAsReply":true,"effectLabel":"not implemented"}],"id":"addebfb0-5892-11ee-a7b2-bb9033e94bad"},"label":"edit/update"},{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"remove"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#action","rightSideValue":"delete"}]},"effectData":{"list":[{"id":"6d1a0880-5898-11ee-a7b2-bb9033e94bad","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$aliases"},{"type":"firebot:custom","comparisonType":"does not contain","value":null,"leftSideValue":"$$aliases","rightSideValue":"$$scrubbedAlias"}]},"effectData":{"list":[{"id":"9d7c3a10-cdab-11ee-b38f-b5b50393e92b","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] alias doesn't exist>$$scrubbedAlias<"},{"id":"736de800-5898-11ee-a7b2-bb9033e94bad","type":"firebot:chat","active":true,"chatter":"Bot","message":"Sorry, you can't $#action an alias that doesn't exist.","sendAsReply":true}],"id":"6d1d3cd0-5898-11ee-a7b2-bb9033e94bad"},"label":"no aliases or does not exist"}],"otherwiseEffectData":{"list":[{"id":"9d7c3a10-cdab-11ee-b38f-b5b50393e92b","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] alias exists>$$scrubbedAlias<"},{"id":"2c34cdd0-589a-11ee-a7b2-bb9033e94bad","type":"firebot:set-user-metadata","active":true,"data":"$arrayFilter[$userMetadata[$#user, alias], $$scrubbedAlias, id, true]","key":"alias","username":"$#user"}],"id":"6d1bdd40-5898-11ee-a7b2-bb9033e94bad"},"otherwiseLabel":"remove it"}],"id":"b9d900a0-5892-11ee-a7b2-bb9033e94bad"},"label":"remove/delete"}],"otherwiseEffectData":{"list":[],"id":"9ccf87e0-5892-11ee-a7b2-bb9033e94bad"},"effectLabel":"add, edit, delete alias?","percentWeight":null}],"id":"24420c60-588f-11ee-a7b2-bb9033e94bad"},"label":"user exists in firebot"}],"otherwiseEffectData":{"list":[{"id":"4badc0f0-588f-11ee-a7b2-bb9033e94bad","type":"firebot:chat","active":true,"chatter":"Bot","message":"Sorry, $#user cannot have an alias as they are not in Firebot.","sendAsReply":true,"percentWeight":null}],"id":"2440acd0-588f-11ee-a7b2-bb9033e94bad"},"otherwiseLabel":"user doesn't exist in firebot","effectLabel":"check if user exists","percentWeight":null}],"id":"29bc5c20-588c-11ee-a7b2-bb9033e94bad"},"args":[{"name":"action"},{"name":"user"},{"name":"alias"}],"sortTags":["b5b82cd7-f6c2-42ce-ab7e-b3b623282615"],"id":"29bc3510-588c-11ee-a7b2-bb9033e94bad"}],"timers":[],"viewerRoles":[],"quickActions":[]},"requireCurrency":false,"importQuestions":[{"id":"5c7e61c8-261c-4681-9e1c-294a001eded7","question":"What is the path you want to store the HTML file?","helpText":"This will vary depending on your setup and file system.","defaultAnswer":"E:\\Streaming\\Assets\\Overlays\\welcome","answerType":"text","replaceToken":"E:\\Streaming\\Assets\\Overlays\\welcome","presetOptions":[]}]}